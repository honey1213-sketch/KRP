<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>RiddhanshCart - Payment & Tracking</title>
<style>
body { margin:0; font-family:Arial; background:#f2f2f2; }

/* HEADER */
header {
    background:#232f3e; color:white; padding:15px;
    display:flex; justify-content:space-between; align-items:center;
}
header h2 { margin:0; }
#cartCount { background:red; padding:3px 7px; border-radius:50%; }

/* PRODUCTS */
.products {
    display:grid; grid-template-columns:repeat(auto-fill,minmax(220px,1fr));
    gap:15px; padding:20px;
}
.product {
    background:white; padding:10px; border-radius:8px;
    box-shadow:0 0 5px #bbb; text-align:center;
}
.product img { width:100%; height:180px; object-fit:cover; border-radius:6px; }

/* POPUP */
.popup {
    position:fixed; top:0; left:0; right:0; bottom:0;
    display:flex; align-items:center; justify-content:center;
    background:rgba(0,0,0,0.6); z-index:999;
}
.box { background:white; padding:20px; width:330px; border-radius:10px; }

/* TRACKING */
.step {
    padding:10px; margin:5px 0; border-left:4px solid #999;
}
.active { border-color:#4CAF50; background:#eafbe6; }

/* Buttons */
button {
    background:#ff9900; border:none; padding:8px 12px;
    border-radius:4px; cursor:pointer; margin-top:8px;
}
</style>
</head>
<body>

<header>
    <h2>RiddhanshCart</h2>
    <div onclick="openCart()" style="cursor:pointer">ðŸ›’ Cart <span id="cartCount">0</span></div>
</header>

<div class="products" id="productList"></div>

<!-- PAYMENT POPUP -->
<div id="paymentPopup" class="popup" style="display:none;">
    <div class="box">
        <h3>Payment Portal</h3>
        <p>Amount: <b id="payAmount"></b></p>

        <label>UPI ID</label><br>
        <input id="upi" placeholder="example@upi"
               style="width:100%;padding:6px;margin-top:4px;"><br><br>

        <button onclick="processPayment()">Pay Securely</button>
        <button onclick="closePayment()">Cancel</button>
    </div>
</div>

<!-- RECEIPT POPUP -->
<div id="receiptPopup" class="popup" style="display:none;">
    <div class="box">
        <h3>Payment Successful âœ”</h3>
        <div id="receiptDetails"></div>
        <button onclick="openTracking()">Track Order</button>
    </div>
</div>

<!-- TRACKING POPUP -->
<div id="trackingPopup" class="popup" style="display:none;">
    <div class="box" style="width:350px;">
        <h3>Order Tracking</h3>
        <p><b>Order ID:</b> <span id="trackOrderId"></span></p>
        <p><b>Delivery Boy:</b> <span id="deliveryBoy"></span></p>
        <p><b>Phone:</b> <span id="deliveryPhone"></span></p>
        <p><b>Expected Delivery:</b> <span id="deliveryDate"></span></p>

        <div>
            <div class="step active">Order Placed</div>
            <div class="step active">Packed</div>
            <div class="step">Out for Delivery</div>
            <div class="step">Delivered</div>
        </div>

        <button onclick="closeTracking()">Close</button>
    </div>
</div>


<script>
// PRODUCTS
const products = [
    {id:1, name:"Smartphone X1", price:12999, img:"https://i.imgur.com/HKX2G6H.jpeg"},
    {id:2, name:"DSLR Camera", price:45999, img:"https://i.imgur.com/Y0kM5qV.jpeg"},
    {id:3, name:"Wireless Headphones", price:1999, img:"https://i.imgur.com/psJpN4s.jpeg"},
    {id:4, name:"Sports Shoes", price:1499, img:"https://i.imgur.com/25pF7tY.jpeg"},
];

let cart = [];
let currentTotal = 0;
let lastOrderId = "";

// LOAD PRODUCTS
function loadProducts(){
    let html="";
    products.forEach(p=>{
        html += `
        <div class="product">
            <img src="${p.img}">
            <h3>${p.name}</h3>
            <p>â‚¹${p.price}</p>
            <button onclick="addToCart(${p.id})">Add to Cart</button>
        </div>`;
    });
    document.getElementById("productList").innerHTML = html;
}

// ADD TO CART
function addToCart(id){
    let item = products.find(p=>p.id==id);
    cart.push(item);
    document.getElementById("cartCount").innerHTML = cart.length;
    alert(item.name + " added to cart");
}

// OPEN CART
function openCart(){
    if(cart.length==0){ alert("Cart is empty"); return; }

    currentTotal = cart.reduce((a,b)=>a+b.price,0);

    document.getElementById("payAmount").innerHTML = "â‚¹" + currentTotal;
    document.getElementById("paymentPopup").style.display = "flex";
}

// CLOSE POPUPS
function closePayment(){ document.getElementById("paymentPopup").style.display="none"; }

// PROCESS PAYMENT (FAKE)
function processPayment(){
    let upi = document.getElementById("upi").value;
    if(upi.length < 5){ alert("Enter valid UPI"); return; }

    lastOrderId = "RC" + Math.floor(Math.random()*900000 + 100000);

    document.getElementById("receiptDetails").innerHTML =
        `<p>Order ID: <b>${lastOrderId}</b></p>
         <p>Amount Paid: <b>â‚¹${currentTotal}</b></p>
         <p>Payment Mode: <b>UPI</b></p>`;

    document.getElementById("paymentPopup").style.display="none";
    document.getElementById("receiptPopup").style.display="flex";
}

// TRACK ORDER PAGE
function openTracking(){
    document.getElementById("receiptPopup").style.display="none";

    document.getElementById("trackOrderId").innerText = lastOrderId;

    // Realistic delivery boy data
    const boys = [
        {name:"Rohit Kumar", phone:"9876543210"},
        {name:"Aman Verma", phone:"9898989898"},
        {name:"Sahil Khan", phone:"9123456789"},
        {name:"Vikas Mishra", phone:"9090909090"}
    ];
    let d = boys[Math.floor(Math.random()*boys.length)];

    document.getElementById("deliveryBoy").innerText = d.name;
    document.getElementById("deliveryPhone").innerText = d.phone;

    // Delivery date +3 days
    let date = new Date();
    date.setDate(date.getDate() + 3);
    document.getElementById("deliveryDate").innerText = date.toDateString();

    document.getElementById("trackingPopup").style.display="flex";
}

// CLOSE TRACKING
function closeTracking(){ document.getElementById("trackingPopup").style.display="none"; }

loadProducts();
</script>
</body>
</html>
